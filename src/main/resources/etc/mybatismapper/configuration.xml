<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="configuration">

	<cache />




	<select id="selectAllTasks" resultType="org.uario.seaworkengine.model.UserTask">
		SELECT id,
		code,
		description
		FROM usertask;

	</select>

	<select id="selectAllShifts" resultType="org.uario.seaworkengine.model.UserShift">
		SELECT id, code, description, presence, forceable, break_shift, disease_shift, accident_shift, waitbreak_shift
		FROM usershift
		ORDER BY description;
	</select>

	<delete id="deleteTask" parameterType="int">
		delete from usertask where
		id = #{id}
	</delete>

	<delete id="deleteShift" parameterType="int">
		delete from usershift
		where
		id = #{id}
	</delete>

	<insert id="insertTask" parameterType="org.uario.seaworkengine.model.UserTask">
		INSERT INTO usertask
		(code,
		description)
		VALUES
		(#{code},#{description});

	</insert>

	<insert id="insertShift" parameterType="org.uario.seaworkengine.model.UserShift">
		INSERT INTO
		usershift
		(code,
		description,
		presence, forceable, break_shift, disease_shift, accident_shift, waitbreak_shift)
		VALUES
		(#{code},#{description},#{presence},#{forceable},#{break_shift}, #{disease_shift}, #{accident_shift}, #{waitbreak_shift});
	</insert>


	

	<update id="updateTask" parameterType="org.uario.seaworkengine.model.UserTask">
		UPDATE
		usertask
		SET
		id =
		#{id},
		code = #{code},
		description = #{description} 
		WHERE id = #{id}

	</update>

	<update id="updateShift" parameterType="org.uario.seaworkengine.model.UserShift">
		UPDATE
		usershift
		SET
		id = #{id},
		code = #{code},
		description = #{description},
		presence = #{presence},
		forceable = #{forceable},
		break_shift = #{break_shift},
		disease_shift = #{disease_shift}, 
		accident_shift = #{accident_shift}, 
		waitbreak_shift = #{waitbreak_shift}
		WHERE id = #{id};


	</update>
	
	<insert id="addStatus" parameterType="String">
		INSERT INTO status (description)
		VALUES (#{description});
	</insert>
	
	<delete id="removeStatus">
		DELETE FROM status
		WHERE description=#{description};
	</delete>
	
	<select id="selectAllStatus" resultType="String">
		SELECT description
		FROM status;
	</select>
	
	<update id="updateStatus" parameterType="String">
		UPDATE status
		SET description = #{description}
		WHERE d
	</update>

	<update id="removeAllBreakShift">
		UPDATE usershift
		SET break_shift = 0;
	</update>
	
	<update id="setShiftAsBreak" parameterType="Integer">
		UPDATE usershift
		SET break_shift = 1, forceable = 0, presence = 0
		WHERE id = #{id_usershift};
	</update>
	
	<update id="removeAllDiseaseShift">
		UPDATE usershift
		SET disease_shift = 0;
	</update>
	
	<update id="setShiftAsDisease" parameterType="Integer">
		UPDATE usershift
		SET disease_shift = 1, forceable = 0, presence = 0
		WHERE id = #{id_usershift};
	</update>
	
	<update id="removeAllAccidentShift">
		UPDATE usershift
		SET accident_shift = 0;
	</update>
	
	<update id="setShiftAsAccident" parameterType="Integer">
		UPDATE usershift
		SET accident_shift = 1, forceable = 0, presence = 0
		WHERE id = #{id_usershift};
	</update>
	
	<update id="removeAllExpectedBreakShift">
		UPDATE usershift
		SET waitbreak_shift = 0;
	</update>
	
	<update id="setShiftAsExpectedBreak" parameterType="Integer">
		UPDATE usershift
		SET waitbreak_shift = 1, forceable = 0, presence = 0
		WHERE id = #{id_usershift};
	</update>


</mapper>