<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ship">

	<cache />

	<insert id="createShip" parameterType="org.uario.seaworkengine.model.Ship">
		INSERT INTO ship (name, line, shiptype, shipcondition, twtype)
		VALUES
		(#{name}, #{line}, #{shiptype}, #{shipcondition}, #{twtype});
	</insert>
	
	<delete id="deleteShip" parameterType="Integer">
		delete from
		ship
		where
		id = #{id_ship}
	</delete>
	
	<select id="loadShip" parameterType="Integer" resultType="org.uario.seaworkengine.model.Ship">
		SELECT id, name, line, shiptype, shipcondition, twtype
		FROM
		ship where
		id = #{id_ship};		
	</select>
	
	<select id="loadAllShip" resultType="org.uario.seaworkengine.model.Ship">
		SELECT id, name, line, shiptype, shipcondition, twtype
		FROM
		ship;		
	</select>
	
	<select id="selectAllShipFulltextSearchLike" parameterType="String"
		resultType="org.uario.seaworkengine.model.Ship">
		SELECT id, name, line, shiptype, shipcondition, twtype
		FROM
		ship
		<if test="my_full_text_search != null">
			WHERE (
			id like CONCAT('%', #{my_full_text_search}, '%') or
			name like CONCAT('%', #{my_full_text_search}, '%') or
			line like CONCAT('%', #{my_full_text_search}, '%') or
			shiptype like CONCAT('%', #{my_full_text_search}, '%') or
			shipcondition like CONCAT('%', #{my_full_text_search}, '%') or
			twtype like CONCAT('%',	#{my_full_text_search}, '%')
			)
		</if>
		order by id
	</select>
	
	<update id="updateShip" parameterType="org.uario.seaworkengine.model.Ship" >
		UPDATE ship SET
		name = #{name},
		line = #{line},
		shiptype = #{shiptype},
		shipcondition = #{shipcondition},
		twtype = #{twtype}
		WHERE id = #{id}
	</update>
	
	
	
	
</mapper>